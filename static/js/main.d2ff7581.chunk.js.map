{"version":3,"sources":["contexts/WindowContext.jsx","layouts/HeaderBar.jsx","layouts/PageLayout.jsx","components/Prompt.jsx","contexts/CacheContex.jsx","hooks/useGit.js","constants/consts.js","components/Shell.jsx","App.jsx","serviceWorker.js","index.jsx"],"names":["WindowContext","createContext","title","setTitle","input","setInput","WindowProvider","children","useState","Provider","value","HeaderBar","useContext","Header","as","floated","Content","Image","src","avatar","circular","PageLayout","SegmentGroup","raised","padded","Segment","clearing","basic","tertiary","content","inverted","style","height","Prompt","print","React","localInput","setLocalInput","backgroundColor","border","color","marginLeft","placeholder","type","onChange","target","onKeyDown","event","key","INITIAL_CACHE","name","CacheContext","cache","Object","setCache","Function","CacheProvider","lsFunc","c","map","item","ls","useCallback","resetCache","url","repoMap","p","html_url","description","updated_at","language","repoFilter","owner","login","a","projects","sessionStorage","getItem","fetch","then","data","json","filter","filtered","setItem","JSON","stringify","parse","Git","fetchProjects","INITIAL_OUTPUT","OPTIONS","Shell","buffer","setBuffer","setCacheToGit","useGit","className","userInput","split","cmd","param","find","option","includes","Error","join","file","commandSwitch","err","currOutput","message","setTimeout","App","Container","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console"],"mappings":"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","file":"static/js/main.d2ff7581.chunk.js","sourcesContent":["import React, { useState, createContext } from 'react';\nimport PropTypes from 'prop-types';\n\nconst INITIAL_TITLE = '~';\n\nconst WindowContext = createContext({\n  title: INITIAL_TITLE,\n  setTitle: () => { },\n  input: '',\n  setInput: () => { },\n});\nexport default WindowContext;\n\nexport function WindowProvider({ children }) {\n  const [title, setTitle] = useState(INITIAL_TITLE);\n  const [input, setInput] = useState('');\n  return (\n    <WindowContext.Provider value={{\n      title, setTitle, input, setInput,\n    }}\n    >\n      {children}\n    </WindowContext.Provider>\n  );\n}\nWindowProvider.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n","import React, { useContext } from 'react';\nimport {\n  Image, Header,\n} from 'semantic-ui-react';\nimport WindowContext from '../contexts/WindowContext';\n\nconst author = 'Shaked Ashkenazi';\n// const socialLinks = {\n//   github: 'shaqash',\n//   linkedin: 'shaked-ashkenazi',\n//   rss: '',\n// };\n\n// const menuItems = [\n//   { link: `https://github.com/${socialLinks.github}`, iconName: 'github', color: 'black' },\n//   { link: `https://www.linkedin.com/in/${socialLinks.linkedin}`, iconName: 'alternate linkedin', color: 'blue' },\n//   { link: '', iconName: 'rss', color: 'orange' },\n// ];\n\nconst HeaderBar = () => {\n  const { title } = useContext(WindowContext);\n  return (\n    <div>\n      <Header as=\"h5\" floated=\"left\">\n        <Header.Content>\n          <Image src=\"https://avatars.githubusercontent.com/u/18087805\" avatar circular />\n          <span>\n            {author}\n            :\n            {title}\n          </span>\n        </Header.Content>\n      </Header>\n    </div>\n  );\n};\nexport default HeaderBar;\n","import PropTypes from 'prop-types';\nimport {\n  Segment, SegmentGroup,\n} from 'semantic-ui-react';\nimport React from 'react';\nimport HeaderBar from './HeaderBar';\n\nconst PageLayout = ({ children }) => (\n  <SegmentGroup raised padded>\n    <Segment clearing basic tertiary>\n      <HeaderBar />\n    </Segment>\n    <Segment content inverted>\n      <div style={{ height: '65vh' }}>\n        {children}\n      </div>\n    </Segment>\n  </SegmentGroup>\n);\nPageLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n};\nexport default PageLayout;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport WindowContext from '../contexts/WindowContext';\n\nconst Prompt = ({\n  print,\n}) => {\n  const [localInput, setLocalInput] = React.useState('');\n  const { setInput } = React.useContext(WindowContext);\n  const runCommand = (event) => {\n    const { key, target: { value } } = event;\n    if (key === 'Enter' || key === 'Tab') {\n      setInput(localInput);\n      setLocalInput('');\n      print(value);\n    }\n  };\n  return (\n    <code>\n      $\n      <input\n        style={{\n          backgroundColor: 'transparent',\n          border: 0,\n          color: 'white',\n          marginLeft: 10,\n        }}\n        placeholder=\"...\"\n        value={localInput}\n        type=\"text\"\n        onChange={({ target: { value } }) => setLocalInput(value)}\n        onKeyDown={runCommand}\n      />\n      <br />\n    </code>\n  );\n};\nPrompt.propTypes = {\n  print: PropTypes.func.isRequired,\n};\nexport default Prompt;\n","import React, { createContext, useState } from 'react';\nimport PropTypes from 'prop-types';\n\nconst INITIAL_CACHE = [\n  { name: 'git-projects' },\n  { name: 'posts' },\n];\n\nconst CacheContext = createContext({\n  cache: Object,\n  setCache: Function,\n});\nexport default CacheContext;\n\nexport function CacheProvider({ children }) {\n  const [cache, setCache] = useState(INITIAL_CACHE);\n  const lsFunc = (c) => c.map((item) => `${item.name} `);\n  const ls = React.useCallback(\n    lsFunc(cache),\n    [cache],\n  );\n  const resetCache = () => setCache(INITIAL_CACHE);\n  return (\n    <CacheContext.Provider value={{\n      cache, setCache, ls, lsFunc, resetCache,\n    }}\n    >\n      {children}\n    </CacheContext.Provider>\n  );\n}\nCacheProvider.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n","import React from 'react';\nimport CacheContext from '../contexts/CacheContex';\n\nconst user = 'shaqash';\nconst url = `https://api.github.com/users/${user}`;\n\nconst repoMap = (p) => ({\n  name: p.name,\n  url: p.html_url,\n  description: p.description,\n  updated_at: p.updated_at,\n  language: p.language,\n});\n\nconst repoFilter = (p) => p.owner.login === user;\n\nasync function fetchProjects() {\n  let projects = sessionStorage.getItem('shaq.starred');\n  if (!projects) {\n    projects = await fetch(`${url}/starred`)\n      .then((data) => data.json()) // Convert to JSON\n      .then((json) => json.filter(repoFilter)) // Filter by owner = me\n      .then((filtered) => filtered.map(repoMap)); // Map only required fields\n    sessionStorage.setItem('shaq.starred', JSON.stringify(projects));\n  } else {\n    projects = JSON.parse(projects);\n  }\n  return projects;\n}\n\n/**\n * Custom hook for fetching git info and set cache\n * @returns {Function}\n */\nconst Git = () => {\n  const { setCache } = React.useContext(CacheContext);\n  const setCacheToGit = () => {\n    fetchProjects().then((projects) => {\n      setCache(projects);\n    });\n  };\n\n  return setCacheToGit;\n};\nexport default Git;\n","export const INITIAL_OUTPUT = 'Welcome to mywebsite.sh \\nUse help command for more info';\nexport const OPTIONS = [\n  'help', 'ls', 'echo', 'cd', 'open', 'clear',\n];\nexport const TIMEOUT_404 = 3000;\n\nexport default {\n  INITIAL_OUTPUT,\n  OPTIONS,\n  TIMEOUT_404,\n};\n","import React, { useContext } from 'react';\nimport ReactMarkdown from 'react-markdown';\nimport Prompt from './Prompt';\nimport useGit from '../hooks/useGit';\nimport WindowContext from '../contexts/WindowContext';\nimport CacheContext from '../contexts/CacheContex';\nimport { INITIAL_OUTPUT, OPTIONS, TIMEOUT_404 } from '../constants/consts';\n\nexport default function Shell() {\n  const [buffer, setBuffer] = React.useState(INITIAL_OUTPUT);\n  const { cache, ls, resetCache } = React.useContext(CacheContext);\n  const { setTitle } = useContext(WindowContext);\n  const setCacheToGit = useGit();\n\n  const commandSwitch = ([cmd, param]) => {\n    switch (cmd) {\n      case 'ls':\n        return `${ls}`;\n      case 'cd':\n        if (param && !ls.join(' ').includes(param)) throw new Error('Unknown directory');\n        setTitle(!param ? '~' : param);\n        if (!param) {\n          resetCache();\n          return INITIAL_OUTPUT;\n        }\n        return param === 'git-projects' && setCacheToGit();\n      case 'echo':\n        return param;\n      case 'open':\n        return JSON.stringify(cache.find((item) => item.name === param), null, 2);\n      case 'help':\n        return `${OPTIONS.map((file) => `${file} `)}`;\n      case 'clear':\n        return '';\n      default:\n        throw new Error('Command not found');\n    }\n  };\n\n  /**\n   * Interprets user input\n   * @param {String} userInput User input\n   */\n  const print = (userInput) => {\n    try {\n      const [cmd, param] = userInput.split(' ');\n      const findOption = OPTIONS.find(\n        (option) => option.includes(cmd) && option,\n      );\n      if (!findOption) throw new Error('Command not found');\n      setBuffer(commandSwitch([cmd, param]));\n    } catch (err) {\n      const currOutput = buffer;\n      setBuffer(err.message);\n      setTimeout(() => {\n        setBuffer(currOutput);\n      }, TIMEOUT_404);\n    }\n  };\n\n  return (\n    <div>\n      <ReactMarkdown className=\"code\">\n        {buffer}\n      </ReactMarkdown>\n      <Prompt print={print} />\n    </div>\n  );\n}\n","import React from 'react';\nimport {\n  Container,\n} from 'semantic-ui-react';\nimport './App.css';\nimport 'semantic-ui-css/semantic.min.css';\nimport PageLayout from './layouts/PageLayout';\nimport { WindowProvider } from './contexts/WindowContext';\nimport Shell from './components/Shell';\nimport { CacheProvider } from './contexts/CacheContex';\n\nconst App = () => (\n  <div className=\"App\">\n    <Container>\n      <WindowProvider>\n        <CacheProvider>\n          <PageLayout>\n            <Shell />\n          </PageLayout>\n        </CacheProvider>\n      </WindowProvider>\n    </Container>\n  </div>\n);\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}